(this.webpackJsonptickethamster=this.webpackJsonptickethamster||[]).push([[0],{77:function(e,t,n){},79:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(10),i=n.n(a),r=(n(77),n(24)),o=n.n(r),l=n(51),j=n(33),d=n(14),u=n(125),b=(n(79),n(126)),h=n(127),O=n(3),m=function(){var e=Object(c.useContext)(q).setDisplayed,t=s.a.useState(null),n=Object(d.a)(t,2),a=n[0],i=n[1],r=function(t){e(t),i(null)};return Object(O.jsxs)("div",{className:"NavMenu",children:[Object(O.jsx)("button",{className:"NavMenuBtn",onClick:function(e){i(e.currentTarget)},children:Object(O.jsx)("p",{className:"hamburger",children:"|||"})}),Object(O.jsxs)(b.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){i(null)},children:[Object(O.jsx)(h.a,{onClick:function(){return r("Skaner")},children:"Skaner"}),Object(O.jsx)(h.a,{onClick:function(){return r("Tickets")},children:"Bilety"}),Object(O.jsx)(h.a,{onClick:function(){return r("Promocje")},children:"Promocje"}),Object(O.jsx)(h.a,{onClick:function(){return r("Offline")},children:"Offline Mode"}),Object(O.jsx)(h.a,{onClick:function(){return r("Admin")},children:"Admin"}),Object(O.jsx)(h.a,{onClick:function(){return r("Logout")},children:"Logout"})]})]})},x=function(e){return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("img",{src:"/logo-black-2.png",alt:"logo",width:"80",height:"30"}),Object(O.jsx)(m,{})]})},p=n(46),g=n(32),f=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],l=Object(p.b)(g.a.auth()),j=Object(d.a)(l,4),u=j[0],b=(j[1],j[2]),h=j[3];return Object(O.jsxs)("div",{className:"SignIn",children:[Object(O.jsxs)("div",{className:"SignIn_section_one",children:[Object(O.jsx)("p",{children:"Welcome To QR Reader!"}),Object(O.jsx)("p",{children:"Time 2 Party"}),b?Object(O.jsx)("p",{children:"Loading..."}):h?Object(O.jsx)("p",{children:h.message}):null]}),Object(O.jsxs)("div",{className:"SignIn_section_two",children:[Object(O.jsx)("p",{className:"SignIn_please_sign_in",children:"Please Sign in"}),Object(O.jsx)("input",{className:"SignIn_login",type:"email",placeholder:"login",value:n,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("input",{className:"SignIn_password",type:"password",placeholder:"password",value:r,onChange:function(e){return o(e.target.value)}}),Object(O.jsx)("button",{className:"SignIn_button",onClick:function(){return u(n,r)},children:"Let's Start!"})]})]})},v=n(65),k=n.n(v),N=n(124),_=n(52);n(59);_.a.initializeApp({apiKey:"AIzaSyDA2P7mrlQqsxniuob9LRJm1UmVEC5stj4",authDomain:"t2p-qr-reader.firebaseapp.com",projectId:"t2p-qr-reader",storageBucket:"t2p-qr-reader.appspot.com",messagingSenderId:"402343303548",appId:"1:402343303548:web:59ce8958467737f6206cf9"});var w=_.a,y=n(53),S=n.n(y),C=w.firestore().collection("tickets");var T=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(null),i=Object(d.a)(a,2),r=i[0],l=i[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1],x=Object(c.useState)("data"),p=Object(d.a)(x,2),g=p[0],f=p[1],v=Object(c.useState)("Zeskanuj Kod by uzyska\u0107 wi\u0119cej informacji"),_=Object(d.a)(v,2),w=_[0],y=_[1],T=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.update({isValid:!1,validatedAt:Date.now()}).then((function(){y("Bilet pomy\u015blnie skasowany")})).catch((function(e){console.error("Error updating document: ",e),y("error: "+e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){e.isValid?T(t):y("Bilet zosta\u0142 juz skasowany")},B=function(){var e=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Scanned!: ",t),t&&n&&(c=Date.now(),console.log("timestamp",c),l(t),s(!1),function(){var e=Object(j.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.doc(t);case 2:(n=e.sent).get().then((function(e){e.exists?(console.log("Document data:",e.data()),f(e.data()),I(e.data(),n)):(console.log("No such document!"),e.data(),f("error"),y("Bilet nie istnieje w systemie"))})).catch((function(e){console.error("Error getting document:",e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){m(!h)};return Object(O.jsxs)("div",{className:"skaner",children:[Object(O.jsx)("div",{className:"skaner_qr_reader",children:Object(O.jsx)(k.a,{delay:n,onError:function(e){console.error(e)},onScan:B})}),Object(O.jsx)("div",{className:"skaner_scan_info",children:Object(O.jsxs)("div",{className:"skaner_scan_info_scan_window",children:[Object(O.jsx)("p",{children:w}),Object(O.jsxs)("p",{children:[" KOD: ",r]}),h?Object(O.jsxs)("span",{className:"skaner_scan_info_scan_window_span",children:["Imie: ",g.clientName,"\xa0\xa0",Object(O.jsx)(S.a,{onClick:A})]}):Object(O.jsxs)("span",{className:"skaner_scan_info_scan_window_span",children:["Imie: ","<Click to see more>","\xa0\xa0",Object(O.jsx)(S.a,{onClick:A})]})]})}),Object(O.jsx)("div",{className:"skaner_scan_button",children:Object(O.jsx)(N.a,{variant:"contained",className:"skaner_scan_button_btn",style:{borderRadius:"10px",boxShadow:"4px 4px 4px rgba(0, 0, 0, 0.5)"},onClick:function(){s(250)},children:"SCAN"})})]})},I=function(e){var t=e.name,n=e.status,c=e.code,s=e.validate;return Object(O.jsxs)("div",{className:"ItemConteiner",children:[Object(O.jsxs)("div",{className:"ItemCode",children:[Object(O.jsx)("button",{className:"ItemCode_button",children:"Detail"}),Object(O.jsxs)("p",{className:"ItemCode_code",children:["KOD: ",c]})]}),Object(O.jsxs)("div",{className:"ItemInfo",children:[t.length<=25?Object(O.jsxs)("p",{children:["Name: ",t]}):Object(O.jsx)("p",{children:t}),!1===n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Status: skasowany"}),Object(O.jsxs)("p",{children:["Time: ",s]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Status: Nieskasowany"}),Object(O.jsx)("p",{children:"Time: not known"})]})]})]})},B=function(e){var t=new Date(e),n=t.getFullYear(),c=t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1;return t.getDate()+"."+c+"."+n+" - "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},A=function(e){var t=Object(c.useContext)(q).tickets,n=Object(c.useState)(),s=Object(d.a)(n,2),a=s[0],i=s[1],r=Object(c.useState)("All"),o=Object(d.a)(r,2),l=o[0],j=o[1];return Object(O.jsxs)("div",{className:"AllTickets",children:[Object(O.jsxs)("div",{className:"searchbox",children:[Object(O.jsx)("div",{className:"searchbox_search",children:Object(O.jsx)("input",{className:"searchbox_search_input",type:"search",placeholder:"search...",onChange:function(e){return i(e.target.value)}})}),Object(O.jsxs)("div",{className:"searchbox_selector",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"searchbox_selector_label",children:["Wszystkie Bilety",Object(O.jsx)("input",{type:"radio",id:"All",name:"Tickets_Type",checked:"All"===l,onChange:function(e){return j(e.target.id)}})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"searchbox_selector_label",children:["Skasowane Bilety",Object(O.jsx)("input",{type:"radio",id:"Sold",name:"Tickets_Type",onChange:function(e){return j(e.target.id)}})]})})]})]}),t.filter((function(e){return"Sold"!==l||!e.isValid})).filter((function(e){return!a||(!!e.clientName.toLowerCase().includes(a.toLowerCase())||void 0)})).map((function(e,t){return Object(O.jsx)(I,{index:t,name:e.clientName,code:e.qrcode,status:e.isValid,validate:B(e.validatedAt)},t)}))]})},M=function(e){var t=Object(c.useContext)(q).setDisplayed;return Object(O.jsx)("div",{className:"logout",children:Object(O.jsxs)("div",{className:"logout_window",children:[Object(O.jsx)("p",{className:"logout_window_text",children:"Are you sure want to sign out?"}),Object(O.jsxs)("div",{className:"logout_window_buttons",children:[Object(O.jsx)(N.a,{variant:"contained",style:{margin:"0 6vw",width:"13vh",borderRadius:"10px"},onClick:function(){return g.a.auth().signOut(),void t("Tickets")},children:"Yes!"}),Object(O.jsx)(N.a,{variant:"contained",style:{margin:"0 6vw",width:"13vh",borderRadius:"10px"},onClick:function(){return t("Tickets")},children:"No!"})]})]})})},D=function(e){var t=Object(c.useContext)(q).displayed,n=Object(p.a)(g.a.auth()),s=Object(d.a)(n,3),a=s[0],i=s[1],r=s[2];if(!a)return i?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)("div",{className:"SignIn",children:Object(O.jsxs)("div",{className:"SignIn_section_one",children:[Object(O.jsx)("p",{children:"Welcome To QR Reader!"}),Object(O.jsx)("p",{children:"Time 2 Party"}),Object(O.jsx)("p",{children:"Initialising User..."})]})})})]}):r?Object(O.jsx)("div",{className:"main",children:Object(O.jsxs)("p",{children:["Error: ",r]})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)(f,{})})]});switch(t){case"Skaner":return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)(T,{})})]});case"Tickets":return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)(A,{})})]});case"Logout":return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsx)("div",{className:"main",children:Object(O.jsx)(M,{})})]});default:return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)("p",{children:"problem with setting context."}),Object(O.jsx)("p",{children:"This part of App is still under development or you dont have permission to view it"})]})]})}},F=function(e){return Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsx)("div",{className:"footer_motto",children:"Pora sie najeba\u0107!"}),Object(O.jsxs)("div",{className:"footer_madeBy",children:[Object(O.jsx)("div",{className:"footer_madeBy_madeByLogo",children:Object(O.jsx)("img",{src:"/logo-black-2.png",alt:"logo",width:"45",height:"25"})}),Object(O.jsxs)("div",{className:"footer_madeBy_madeByTeam",children:[Object(O.jsx)("p",{className:"footer_madeBy_madeByTeam_made",children:"Made By: "}),Object(O.jsx)("p",{className:"footer_madeBy_madeByTeam_by",children:"Monke Squad"})]})]})]})},L=function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"background"}),Object(O.jsxs)("div",{className:"main_pc",children:[Object(O.jsx)("img",{src:"/logo-black-2.png",alt:"logo",width:"85",height:"55"}),Object(O.jsx)("p",{children:" This App is specificly build for and only mobile phones!"}),Object(O.jsx)("p",{children:" On PC please use developer tools and device toolbar mode!"}),Object(O.jsx)("p",{children:" On Tablet use build in phone screen renderer!"})]})]})},P=n(54),E=function(e){var t=e.children;return Object(P.useMediaQuery)({minWidth:"710px"})?t:null},R=function(e){var t=e.children;return Object(P.useMediaQuery)({maxWidth:700})?t:null},q=Object(c.createContext)();var W=function(){var e=Object(c.useState)("Tickets"),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),r=i[0],b=i[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.firestore(),e.next=3,t.collection("tickets").get();case 3:n=e.sent,b(n.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(O.jsx)(u.a,{disableGutters:!0,children:Object(O.jsxs)(q.Provider,{value:{displayed:n,setDisplayed:s,tickets:r},children:[Object(O.jsxs)(R,{children:[Object(O.jsx)(x,{}),Object(O.jsx)(D,{}),Object(O.jsx)(F,{})]}),Object(O.jsx)(E,{children:Object(O.jsx)(L,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),z()}},[[98,1,2]]]);
//# sourceMappingURL=main.587399ed.chunk.js.map